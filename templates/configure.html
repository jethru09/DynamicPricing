<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configure html</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles2.css') }}">
</head>
<body class="light-mode">
    <nav>
        <div class="navbar">
            <h2>Price Configuration</h2>
            <button id="add" class="add">Add</button>
            <button id="remove" class="remove">Remove</button>
        </div>
        <img id="mode-icon" class="mode-icon" src="static/light-mode.png" alt="Mode Icon">
    </nav>
    
    <!-- Existing modal for adding/selecting industry -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal-body">
                <button id="new-industry-btn" class="modal-btn">Add New Industry</button>
                <button id="select-industry-btn" class="modal-btn">Select Industry</button>
                <div id="new-industry-form" style="display: none;">
                    <label for="industry-name">Industry Name:</label>
                    <input type="text" id="industry-name" placeholder="Enter Industry Name">
                    <label for="columns">Column Names (comma-separated):</label>
                    <input type="text" id="columns" placeholder="Enter Column Names">
                    <label for="target">Target variable:</label>
                    <input type="text" id="target" placeholder="Sales Price" value="Sales Price">
                    
                    <!-- File input for CSV upload -->
                    <div id="drop-area">
                        <p>Drag & Drop CSV file here</p>
                        <p>or</p>
                        <input type="file" id="csv-file" accept=".csv">
                    </div>
                    
                    <button id="apply-new-industry" class="apply-btn">Apply</button>
                </div>
                <div id="select-industry-form" style="display: none;">
                    <label for="industry-select">Select Industry:</label>
                    <select id="industry-select">
                        <option value="">--Select Industry--</option>
                    </select>
                    <label for="new-columns">New Column Names (comma-separated):</label>
                    <input type="text" id="new-columns" placeholder="Enter New Column Names">
                    <button id="apply-select-industry" class="apply-btn">Apply</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal for deleting industry/columns -->
    <div id="myModal1" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal-body">
                <div id="delete-industry-form">
                    <label for="delete-industry-select">Select Industry:</label>
                    <select id="delete-industry-select">
                        <option value="">--Select Industry--</option>
                    </select>
                    <label for="delete-columns">Delete Column Names (comma-separated):</label>
                    <input type="text" id="delete-columns" placeholder="Enter Column Names">
                    <button id="delete-select-industry" class="delete-btn">Delete</button>
                </div>
            </div>
        </div>
    </div>    
    <div class="main-content">
        <div class="flex1">
            <table id="config-table">
                <thead>
                    <!-- Table headings will be dynamically generated by JavaScript -->
                </thead>
                <tbody>
                    <!-- Table rows will be dynamically generated by JavaScript -->
                </tbody>
            </table>
        </div>
        <div class="flex2">
            <button id="apply-btn" class="apply-btn">
                Apply
            </button>
        </div>
    </div>
    <script>
        const industries = JSON.parse('{{ industries | tojson | safe }}');
        const influencing_factors = JSON.parse('{{ influencing_factors | tojson | safe }}');
        const factors = JSON.parse('{{ factors | tojson | safe }}');
    </script>
    <script src="{{ url_for('static', filename='scripts5.js') }}"></script>
</body>
</html>